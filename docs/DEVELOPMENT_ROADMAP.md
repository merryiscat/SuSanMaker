# 랜덤 산책로 메이커 - 개발 로드맵

실제 개발 순서와 우선순위를 정의한 상세 로드맵입니다.

## 🎯 현재 상태 분석

### ✅ 완료된 것
- 기본 UI 구조 (홈 화면, 픽셀 아트 스타일)
- 데이터 모델 정의 (User, Walk, GachaItem 등)
- Firebase 설정 파일
- Provider 구조 (Riverpod 기반)
- 서비스 레이어 기본 틀

### ❌ 구현 필요한 것
- 화면 간 네비게이션
- Firebase 실제 연동
- 인증 시스템
- 경로 생성 알고리즘
- 실시간 위치 추적
- 가챠 시스템 UI
- 아바타 꾸미기 기능

---

## 📅 단계별 개발 일정

### Week 1-2: 기본 인프라 구축

#### Day 1-2: 네비게이션 및 라우팅
```dart
# 목표: 모든 화면 간 이동이 가능하도록 설정

1. go_router 패키지 추가
2. AppRouter 클래스 생성
3. 모든 주요 화면 라우트 정의
4. 홈 화면 버튼들을 실제 화면으로 연결

# 성공 기준
- "산책 시작하기" 버튼 클릭 → 산책 설정 화면 이동
- "기록 보기" 버튼 클릭 → 기록 화면 이동  
- "상점" 버튼 클릭 → 가챠 화면 이동
- "옷장" 버튼 클릭 → 옷장 화면 이동
```

#### Day 3-4: Firebase Authentication 구현
```dart
# 목표: 사용자 로그인/회원가입 기능 완성

1. 로그인 화면 UI 구현
2. Google/Apple 소셜 로그인 설정
3. 익명 로그인 옵션 추가
4. 인증 상태 관리 (Riverpod)
5. 보호된 라우트 설정

# 성공 기준
- 앱 첫 실행 시 로그인 화면 표시
- 로그인 성공 후 홈 화면으로 자동 이동
- 로그아웃 기능 동작
```

#### Day 5-7: Firestore 기본 연동
```dart
# 목표: 사용자 프로필 CRUD 동작

1. Firestore 보안 규칙 설정
2. 사용자 프로필 생성/읽기/업데이트
3. 포인트 시스템 기본 동작
4. 실시간 데이터 동기화 테스트

# 성공 기준
- 신규 사용자 프로필 자동 생성
- 홈 화면에 사용자 포인트 표시
- 포인트 증감 시 실시간 UI 업데이트
```

### Week 3-4: 핵심 산책 기능

#### Day 8-10: 산책 설정 화면
```dart
# 목표: 사용자가 원하는 거리/시간 설정 가능

1. 슬라이더 UI 구현 (거리: 0.5-10km, 시간: 10-120분)
2. 설정값 유효성 검증
3. 위치 권한 요청 로직
4. 현재 위치 가져오기 기능

# 성공 기준
- 거리/시간 설정이 직관적으로 동작
- 위치 권한 승인 후 현재 위치 획득
- "경로 생성하기" 버튼 활성화
```

#### Day 11-14: 경로 생성 알고리즘
```dart
# 목표: 무작위 순환 경로 생성 기능 완성

1. TMap API 또는 Google Directions API 연동
2. 무작위 경유지 생성 로직
3. 순환 경로 계산 및 검증
4. 경로 미리보기 화면

# 성공 기준
- 설정한 거리와 유사한 경로 생성 (±20% 오차)
- 지도에 경로 시각화
- 경로 재생성 기능 동작
```

### Week 5-6: 실시간 추적 시스템

#### Day 15-18: 위치 추적 화면
```dart
# 목표: 실시간 산책 추적 및 진행률 표시

1. Google Maps 또는 네이버 지도 통합
2. 실시간 위치 업데이트
3. 경로와 사용자 위치 오버레이
4. 거리/시간/속도 계산 및 표시

# 성공 기준
- 지도에서 실시간 위치 확인
- 이동한 거리 정확히 계산
- 산책 통계 실시간 업데이트
```

#### Day 19-21: 경로 준수 검증
```dart
# 목표: 사용자가 정해진 경로를 따라갔는지 확인

1. 맵 매칭 알고리즘 구현
2. 경로 이탈 감지 및 경고
3. 산책 완료 조건 판정
4. 부정행위 방지 로직

# 성공 기준
- 경로에서 50m 이상 벗어나면 경고
- 전체 경로의 85% 이상 일치 시 완료 인정
- 비정상적인 이동 패턴 감지
```

### Week 7-8: 게임화 시스템

#### Day 22-25: 산책 결과 및 포인트 시스템
```dart
# 목표: 산책 완료 후 보상 시스템 구현

1. 산책 결과 요약 화면
2. 포인트 계산 공식 적용
3. 스트리크 보너스 시스템
4. 애니메이션 효과 추가

# 성공 기준
- 산책 통계 정확히 계산 및 표시
- 포인트 자동 지급 및 저장
- 연속 산책 보너스 동작
```

#### Day 26-28: 가챠 시스템
```dart
# 목표: 포인트로 아이템 뽑기 기능

1. 가챠 확률 시스템 구현
2. 애니메이션 효과 (스핀, 공개)
3. 아이템 마스터 데이터 관리
4. 인벤토리 시스템 연동

# 성공 기준
- 설정한 확률대로 아이템 출현
- 뽑기 애니메이션 매끄럽게 동작
- 획득한 아이템 인벤토리에 저장
```

### Week 9-10: 아바타 시스템

#### Day 29-32: 아바타 꾸미기
```dart
# 목표: 수집한 아이템으로 아바타 꾸미기

1. 아바타 렌더링 시스템
2. 아이템 장착/해제 기능
3. 카테고리별 아이템 분류
4. 실시간 미리보기

# 성공 기준
- 아이템 장착 시 아바타 모습 변경
- 카테고리별 아이템 필터링
- 장착 정보 Firestore에 저장
```

#### Day 33-35: 최종 통합 및 테스트
```dart
# 목표: 전체 기능 통합 및 버그 수정

1. 전체 사용자 흐름 테스트
2. 성능 최적화
3. 에러 처리 강화
4. UI/UX 개선

# 성공 기준
- 산책 → 포인트 → 가챠 → 꾸미기 전체 루프 동작
- 주요 버그 없이 안정적 동작
- 사용자 경험 만족할 수준
```

---

## 🔧 기술적 구현 우선순위

### P0 (최우선 - 앱 동작에 필수)
1. ✅ 네비게이션 시스템
2. ✅ Firebase Authentication
3. ✅ 기본 Firestore CRUD
4. ✅ 위치 권한 및 현재 위치

### P1 (높음 - 핵심 기능)
1. 🔄 경로 생성 알고리즘
2. 🔄 실시간 위치 추적
3. 🔄 포인트 시스템
4. 🔄 가챠 기본 기능

### P2 (중간 - 사용자 경험)
1. ⏳ 애니메이션 효과
2. ⏳ 아바타 시스템
3. ⏳ 에러 처리
4. ⏳ 성능 최적화

### P3 (낮음 - 부가 기능)
1. ⏳ 고급 통계
2. ⏳ 설정 화면
3. ⏳ 도움말
4. ⏳ 다크모드

---

## 🎯 주간 목표 및 마일스톤

### Week 1-2 마일스톤: "기본 앱 흐름"
- [ ] 모든 화면 간 이동 가능
- [ ] 로그인/로그아웃 동작
- [ ] 사용자 프로필 Firestore 저장

### Week 3-4 마일스톤: "경로 생성"
- [ ] 거리/시간 설정 가능
- [ ] 지도에 무작위 경로 표시
- [ ] 경로 재생성 기능

### Week 5-6 마일스톤: "산책 추적"
- [ ] 실시간 위치 표시
- [ ] 산책 통계 계산
- [ ] 경로 완주 판정

### Week 7-8 마일스톤: "보상 시스템"
- [ ] 포인트 자동 지급
- [ ] 가챠 기본 동작
- [ ] 아이템 획득 및 저장

### Week 9-10 마일스톤: "완성된 MVP"
- [ ] 전체 게임화 루프 동작
- [ ] 아바타 꾸미기 기능
- [ ] 안정적인 사용자 경험

---

## 🚀 Quick Start 가이드

### 다음에 할 일 (즉시 시작 가능)

1. **네비게이션 설정** (30분)
```bash
flutter pub add go_router
# lib/app_router.dart 파일 생성하여 라우트 정의
```

2. **홈 화면 버튼 연결** (1시간)
```dart
// home_screen.dart의 TODO 주석들을 실제 네비게이션으로 교체
onPressed: () => context.push('/walk-setup')
```

3. **기본 화면들 생성** (2시간)
```dart
// 빈 화면이라도 일단 생성하여 네비게이션 테스트
- walk_setup_screen.dart
- walk_tracking_screen.dart  
- gacha_screen.dart
- wardrobe_screen.dart
```

### 첫 주차 목표
- 모든 버튼 클릭 시 해당 화면으로 이동
- 각 화면에서 뒤로 가기 동작
- 기본적인 앱 흐름 완성

이렇게 단계별로 진행하면 10주 내에 완전한 MVP를 완성할 수 있습니다!